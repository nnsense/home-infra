---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: haproxy
resources:
- _namespace.yaml
- internal.yaml
- tcp-services.yaml
- ../netpols/allow-all-ingress

components:
- ../common

secretGenerator:
- name: lua
  files:
  - lua/haproxy-lua-http.lua
  - lua/auth-request.lua
  - lua/json.lua

configMapGenerator:
- name: config
  files:
  - public_hosts.txt
- name: haproxy-aux-cfg
  files:
  - haproxy-aux.cfg

configurations:
- kustomizeconfig.yaml
