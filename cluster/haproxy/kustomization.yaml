---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: haproxy
resources:
- _namespace.yaml
- internal.yaml
- ../netpols/allow-all-ingress

components:
- ../common

secretGenerator:
- name: lua
  files:
  - lua/haproxy-lua-http.lua
  - lua/auth-request.lua
  - lua/json.lua
- name: config
  files:
  - public_hosts.txt

configurations:
- kustomizeconfig.yaml
